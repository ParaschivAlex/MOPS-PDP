@model PDP.Models.Doctor

@{
    ViewBag.Title = "Doctor Details";
}
<br/>
<h2 class="text-center">Doctor's details page</h2>
<hr /><br />

      <div class="card mb-3">
          <div class="row no-gutters">
              <div class="col-md-4">
                  <img class="card-img h-100" src="@Model.Photo" alt="doc image" />
              </div>
              <div class="col-md-8 text-center">
                  <div class="card-body ">
                      <h2 class="card-title">@Model.FirstName @Model.SecondName</h2>
                      <h3>@(Model.PriceRate*Model.Specialization.Price) Euro</h3>&nbsp;
                      
                      <div class="row text-center" style="margin-top:10px;">
                          <div class="col-md-4">
                              @if (User.IsInRole("Admin"))
                              {<form action="javascript:void(0);">
                                      <a class="btn btn-warning" href="/Doctors/Edit/@Model.DoctorId">Edit Doctor</a>
                                  </form>
                              }
                          </div>
                          <div class="col-md-4">
                              @if (Model.IsAvailable == false)
                              {
                                  <form action="javascript:void(0);">
                                      <button class="btn btn-outline-danger">
                                          <i class="fa disabled">Doctor unavailable!</i>
                                      </button>
                                  </form>
                              }
                              @if (Model.IsAvailable == true)
                              {
                                  <form method="post" action="/Consultations/Create/@Model.DoctorId">
                                      <input type="hidden" name="DoctorId" value="@Model.DoctorId" />                                     
                                      <button type="submit" class="btn btn-success">
                                          Book a consultation
                                      </button>
                                  </form>
                              }
                          </div>
                          <div class="col-md-4">
                              @if (User.IsInRole("Admin"))
                              {
                                  using (Html.BeginForm(actionName: "Delete", controllerName: "Doctors", method: FormMethod.Post, routeValues: new { id = @Model.DoctorId }))
                                  {
                                      @Html.HttpMethodOverride(HttpVerbs.Delete)
                                      <button class="btn btn-danger" type="submit">Delete</button>
                                  }
                              }
                          </div>

                      </div>
                  </div>
              </div>
          </div>
      </div>
